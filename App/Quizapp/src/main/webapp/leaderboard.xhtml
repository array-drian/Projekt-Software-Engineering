<?xml version='1.0' encoding='UTF-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
  <h:head>
  <title>Rangliste</title>
  <f:metadata>
        <f:viewAction action="#{checkerController.checkLogin()}" />
    </f:metadata>
  </h:head>
  <h:body>
    <h1>Rangliste</h1>
    <p><h:outputText value="#{currentUser.user.getUserName()}"/></p>
    <h:form>
      <p><h:commandButton action="#{loginController.logout}" value="Ausloggen"/></p>
    </h:form>

    <h:panelGroup rendered="#{not empty leaderboardController.top10UsersByScoreCount and
                              not empty leaderboardController.top10UsersByTotalScore}">
      <h2>Es hat noch niemand gespielt</h2>
    </h:panelGroup>

    <h:panelGroup rendered="#{not empty leaderboardController.top10UsersByScoreCount}">
      <h2>Diese Spieler haben die meisten Spiele gespielt</h2>

      <h:dataTable value="#{leaderboardController.top10UsersByScoreCount}" var="var">

        <h:column>
          <f:facet name="header">Benutzer</f:facet>
          <h:outputText value="#{var[0]}" />
        </h:column>
        
        <h:column>
          <f:facet name="header">Anzahl an Spielen</f:facet>
          <h:outputText value="#{var[1]}" />
        </h:column>
        
      </h:dataTable>
    </h:panelGroup>

    <h:panelGroup rendered="#{not empty leaderboardController.top10UsersByTotalScore}">
      <h2>Diese Spieler haben die meisten Fragen richtig beantwortet</h2>

      <h:dataTable value="#{leaderboardController.top10UsersByTotalScore}" var="var">

        <h:column>
          <f:facet name="header">Benutzer</f:facet>
          <h:outputText value="#{var[0]}" />
        </h:column>
        
        <h:column>
          <f:facet name="header">Anzahl an richtig beantworter Fragen</f:facet>
          <h:outputText value="#{var[1]}" />
        </h:column>
        
      </h:dataTable>
    </h:panelGroup>

    
  </h:body>
</html>