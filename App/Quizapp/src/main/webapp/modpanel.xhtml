<?xml version='1.0' encoding='UTF-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
  <title>Modpanel</title>
  <h:outputText value="#{loginController.checkLogin()}"/>
  <h:outputText value="#{loginController.checkPermission()}"/>
</h:head>
<h:body>
  <h2>Modpanel</h2>
  <p><h:outputText value="#{currentUser.user.getUserName()}"/></p>
  <a href="#{request.contextPath}/app.xhtml">Zur App</a>
  <h:form>
    <p><h:commandButton action="#{loginController.logout}" value="Ausloggen"/></p>
  </h:form>
  <h:form>
    <h2>Neue Frage erstellen</h2>

    <h:messages globalOnly="true" style="color:red;" />
    <h:panelGrid columns="2">
      <h:outputLabel for="question" value="Frage:" />
      <h:inputText id="question" value="#{questionBean.question}" required="true"/>
      <h:outputLabel for="category" value="Kategorie:" />
      <h:inputText id="category" value="#{questionBean.category}" required="true"/>
      <h:outputLabel for="question" value="Richtige Antwort:" />
      <h:inputText value="#{questionBean.correctAnswer}" required="true"/>
      <h:outputLabel value="Andere AntwortmÃ¶glichkeiten:" />
      <ui:repeat value="#{questionBean.answers}" var="answer" varStatus="status">
        <h:inputText value="#{questionBean.answers[status.index]}" required="true"/><br />
      </ui:repeat>
      <h:commandButton value="Frage erstellen" action="#{questionBean.createQuestion}" />
    </h:panelGrid>
  </h:form>
  <h2>Pending Suggestion</h2>

  
  <h:form>
    <!-- Display the current suggestion's question -->
    <h:outputText value="#{suggestionController.getSuggestion().question.question}" />

    <!-- Buttons to accept or decline the suggestion -->
    <h:commandButton value="Accept" action="#{suggestionController.acceptSuggestion}" />
    <h:commandButton value="Decline" action="#{suggestionController.declineSuggestion}" />

    <!-- Navigation buttons -->
    <h:commandButton value="Previous" action="#{suggestionController.previousSuggestion}" disabled="#{suggestionController.index == 0}" />
    <h:commandButton value="Next" action="#{suggestionController.nextSuggestion}" disabled="#{suggestionController.index == suggestionController.maxIndex}" />

    <!-- Display current index out of total -->
    <h:outputText value="#{suggestionController.getIndex() + 1} / #{suggestionController.getMaxIndex() + 1}" />
</h:form>

</h:body>
</html>