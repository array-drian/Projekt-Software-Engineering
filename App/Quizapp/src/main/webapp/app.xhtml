<?xml version='1.0' encoding='UTF-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
  <title>App</title>
  <h:outputText value="#{loginController.checkLogin()}"/>
</h:head>
<h:body>
  <h2>App</h2>
  <p><h:outputText value="#{currentUser.user.getUserName()}"/></p>
  <h:form>
    <p><h:commandButton action="#{loginController.logout}" value="Ausloggen"/></p>
  </h:form>
  <h:form>
    <h2>Neue Frage einreichen</h2>

    <h:messages globalOnly="true" style="color:red;" />
    <h:panelGrid columns="2">
      <h:outputLabel for="question" value="Frage:" />
      <h:inputText id="question" value="#{suggestionBean.question}" required="true"/>
      <h:outputLabel for="category" value="Kategorie:" />
      <h:inputText id="category" value="#{suggestionBean.category}" required="true"/>
      <h:outputLabel for="question" value="Richtige Antwort:" />
      <h:inputText value="#{suggestionBean.correctAnswer}" required="true"/>
      <h:outputLabel value="Andere AntwortmÃ¶glichkeiten:" />
      <ui:repeat value="#{suggestionBean.answers}" var="answer" varStatus="status">
        <h:inputText value="#{suggestionBean.answers[status.index]}" required="true"/><br />
      </ui:repeat>
      <h:commandButton value="Frage einreichen" action="#{suggestionBean.submitSuggestion}" />
    </h:panelGrid>
  </h:form>
  <p class="error"><h:outputText value="#{loginController.failureMessage}"/></p>
</h:body>
</html>