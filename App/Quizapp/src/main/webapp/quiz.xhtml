<?xml version='1.0' encoding='UTF-8'?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
  <title>Quiz</title>
  <h:outputText value="#{loginController.checkLogin()}"/>
</h:head>
<h:body>
  <h2>Quiz</h2>
  <p><h:outputText value="#{currentUser.user.getUserName()}"/></p>
  <h:form>
    <p><h:commandButton action="#{loginController.logout}" value="Ausloggen"/></p>
  </h:form>
  <h2>Neues Quiz erstellen</h2>
  <h:form>
    <h:messages globalOnly="true" style="color:red;" />
    <!-- Input fields for User details -->
    <h:outputLabel for="category" value="Kategorie:" />
    <h:selectOneMenu id="category" value="#{quizBean.category}" converter="#{categoryConverter}">
      <f:selectItems value="#{quizBean.allCategories}" var="cat" itemLabel="#{cat.category}" itemValue="#{cat}" />
    </h:selectOneMenu>

    <!-- Radio buttons for setting isMod (true or false) -->
    <p><h:outputLabel for="isMultiplayer" value="Mehrspielermodus aktivieren?" /></p>
    <p><h:selectOneRadio id="isMultiplayer" value="#{quizBean.isMultiplayer}">
        <f:selectItem itemValue="#{true}" itemLabel="Ja" />
        <f:selectItem itemValue="#{false}" itemLabel="Nein" />
    </h:selectOneRadio></p>
    
    <!-- Command button to trigger the save action -->
    <p><h:commandButton value="Quiz erstellen" action="#{quizBean.createQuiz}" /></p>
  </h:form>

  <h2>Ausstehende Spiele</h2>
  
  <h:form>
    <h:outputText value="#{gameController.getGame().gameID}" />

    <h:commandButton value="Jetzt spielen" action="#{gameController.playGame(gameController.getGame())}" />

    <h:commandButton value="ZurÃ¼ck" action="#{gameController.previousGame}" disabled="#{gameController.index == 0}" />
    <h:commandButton value="Vor" action="#{gameController.nextGame}" disabled="#{gameController.index == gameController.maxIndex}" />

    <h:outputText value="#{gameController.getIndex() + 1} / #{gameController.getMaxIndex() + 1}" />
  </h:form>
</h:body>
</html>